"use strict";window.addEventListener("DOMContentLoaded",(()=>{const e="../img/participant.png",t=[{name:"Хозе-Рауль Капабланка",subtitle:"Чемпион мира по шахматам",img:e},{name:"Эммануил Ласкер",subtitle:"Чемпион мира по шахматам",img:e},{name:"Александр Алехин",subtitle:"Чемпион мира по шахматам",img:e},{name:"Арон Нимцович",subtitle:"Чемпион мира по шахматам",img:e},{name:"Рихард Рети",subtitle:"Чемпион мира по шахматам",img:e},{name:"Остап Бендер",subtitle:"Гроссмейстер",img:e}],n=document.querySelector(".carousel__inner"),i=document.querySelector(".carousel__next"),s=document.querySelector(".carousel__prev");let a,l=c(),d=0;function c(){const e=window.innerWidth;return e<=768?1:e<=992?2:3}function r(){n.innerHTML="";for(let e=0;e<l;e++)if(d+e<t.length){const i=document.createElement("div");i.classList.add("participant","show","fade"),i.innerHTML=`\n                    <div class="participant__circle">\n                        <img loading="lazy" src="${t[d+e].img}" alt="participant">\n                    </div>\n                    <div class="participant__name">${t[d+e].name}</div>\n                    <div class="participant__subtitle">${t[d+e].subtitle}</div>\n                    <div class="participant__btn">Подробнее</div>\n                `,n.appendChild(i)}document.querySelector(".carousel__current").textContent=`${Math.min(d+l,t.length)} / ${t.length}`}function o(){clearInterval(a)}function u(){d<=0?(s.classList.add("disabled"),s.disabled=!0):(s.classList.remove("disabled"),s.disabled=!1),d+l>=t.length?(i.classList.add("disabled"),i.disabled=!0):(i.classList.remove("disabled"),i.disabled=!1)}window.addEventListener("resize",(()=>{const e=c();e!==l&&(l=e,d=0,r())})),s.classList.add("disabled"),s.disabled=!0,i.addEventListener("click",(()=>{i.disabled||(o(),d+=l,d>=t.length&&(d=t.length-l),r(),u())})),s.addEventListener("click",(()=>{s.disabled||(o(),d-=l,d<0&&(d=0),r(),u())})),r(),u(),a=setInterval((()=>{d+=l,d>=t.length&&(d=0),u(),r()}),4e3);const m=document.querySelector(".stages__next"),v=document.querySelector(".stages__prev"),_=document.querySelector(".stages__list"),g=document.querySelectorAll(".stages__current span");let p=0,b=0;function L(){g.forEach(((e,t)=>{e.classList.remove("active"),t===b&&e.classList.add("active")}))}L(),m.addEventListener("click",(function(){p>=1384?(p=0,b=0):(p+=346,b++),_.style.transform=`translateX(-${p}px)`,L()})),v.addEventListener("click",(function(){0==p?(p=1384,b=g.length-1):(p-=346,b--,d<0&&(d=0)),_.style.transform=`translateX(-${p}px)`,L()}))}));