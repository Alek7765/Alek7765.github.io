{"version":3,"file":"script.js","mappings":"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","sources":["webpack://test_yandex/./src/js/main.js"],"sourcesContent":["'use strict';\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n    const photo = 'img/participant.png';\r\n\r\n    const participantsData = [\r\n        {\r\n            name: \"Хозе-Рауль Капабланка\",\r\n            subtitle: \"Чемпион мира по шахматам\",\r\n            img: photo\r\n        },\r\n        {\r\n            name: \"Эммануил Ласкер\",\r\n            subtitle: \"Чемпион мира по шахматам\",\r\n            img: photo\r\n        },\r\n        {\r\n            name: \"Александр Алехин\",\r\n            subtitle: \"Чемпион мира по шахматам\",\r\n            img: photo\r\n        },\r\n        {\r\n            name: \"Арон Нимцович\",\r\n            subtitle: \"Чемпион мира по шахматам\",\r\n            img: photo\r\n        },\r\n        {\r\n            name: \"Рихард Рети\",\r\n            subtitle: \"Чемпион мира по шахматам\",\r\n            img: photo\r\n        },\r\n        {\r\n            name: \"Остап Бендер\",\r\n            subtitle: \"Гроссмейстер\",\r\n            img: photo\r\n        }\r\n    ];\r\n\r\n    // slider with participants\r\n\r\n    const carouselInner = document.querySelector('.carousel__inner'),\r\n      nextSlide = document.querySelector('.carousel__next'),\r\n      prevSlide = document.querySelector('.carousel__prev');\r\n\r\n    let participantsToShow = getParticipantsToShow();\r\n    let currentIndex = 0;\r\n\r\n    function getParticipantsToShow() {\r\n        const width = window.innerWidth;\r\n\r\n        if (width <= 768) {\r\n            return 1;\r\n        } else if (width <= 992) {\r\n            return 2; \r\n        } else {\r\n            return 3; \r\n        }\r\n    }\r\n\r\n    function populateParticipants() {\r\n        carouselInner.innerHTML = '';\r\n\r\n        for (let i = 0; i < participantsToShow; i++) {\r\n            if (currentIndex + i < participantsData.length) {\r\n                const participantDiv = document.createElement('div');\r\n                participantDiv.classList.add('participant', 'show', 'fade');\r\n\r\n                participantDiv.innerHTML = `\r\n                    <div class=\"participant__circle\">\r\n                        <img loading=\"lazy\" src=\"${participantsData[currentIndex + i].img}\" alt=\"participant\">\r\n                    </div>\r\n                    <div class=\"participant__name\">${participantsData[currentIndex + i].name}</div>\r\n                    <div class=\"participant__subtitle\">${participantsData[currentIndex + i].subtitle}</div>\r\n                    <div class=\"participant__btn\">Подробнее</div>\r\n                `;\r\n                carouselInner.appendChild(participantDiv);\r\n            }\r\n        }\r\n\r\n        updateCurrentIndexDisplay();\r\n    }\r\n\r\n    function updateCurrentIndexDisplay() {\r\n        const currentText = document.querySelector('.carousel__current');\r\n        currentText.textContent = `${Math.min(currentIndex + participantsToShow, participantsData.length)} / ${participantsData.length}`;\r\n    }\r\n\r\n    window.addEventListener('resize', () => {\r\n        const newParticipantsToShow = getParticipantsToShow();\r\n        \r\n        if (newParticipantsToShow !== participantsToShow) {\r\n            participantsToShow = newParticipantsToShow;\r\n            currentIndex = 0; \r\n            populateParticipants();\r\n        }\r\n    });\r\n\r\n    let autoScrollInterval;\r\n\r\n    function startAutoScroll() {\r\n        autoScrollInterval = setInterval(() => {\r\n            currentIndex += participantsToShow;\r\n\r\n            if (currentIndex >= participantsData.length) {\r\n                currentIndex = 0; \r\n            }\r\n            updateButtonsState();\r\n            populateParticipants();\r\n        }, 4000);\r\n    }\r\n\r\n    function stopAutoScroll() {\r\n        clearInterval(autoScrollInterval);\r\n    }\r\n\r\n    function nextParticipants() {\r\n        currentIndex += participantsToShow;\r\n\r\n        if (currentIndex >= participantsData.length) {\r\n            currentIndex = participantsData.length - participantsToShow; \r\n        }\r\n\r\n        populateParticipants();\r\n        updateButtonsState(); \r\n    }\r\n\r\n    function prevParticipants() {\r\n        currentIndex -= participantsToShow;\r\n        \r\n        if (currentIndex < 0) {\r\n            currentIndex = 0; \r\n        }\r\n\r\n        populateParticipants();\r\n        updateButtonsState(); \r\n    }\r\n\r\n    function updateButtonsState() {\r\n        if (currentIndex <= 0) {\r\n            prevSlide.classList.add('disabled');\r\n            prevSlide.disabled = true;\r\n        } else {\r\n            prevSlide.classList.remove('disabled');\r\n            prevSlide.disabled = false;\r\n        }\r\n\r\n        if (currentIndex + participantsToShow >= participantsData.length) {\r\n            nextSlide.classList.add('disabled');\r\n            nextSlide.disabled = true;\r\n        } else {\r\n            nextSlide.classList.remove('disabled');\r\n            nextSlide.disabled = false;\r\n        }\r\n    }\r\n\r\n    \r\n    prevSlide.classList.add('disabled');\r\n    prevSlide.disabled = true;\r\n\r\n    nextSlide.addEventListener('click', () => {\r\n        if (!nextSlide.disabled) {\r\n            stopAutoScroll(); \r\n            nextParticipants(); \r\n        }\r\n    });\r\n\r\n    prevSlide.addEventListener('click', () => {\r\n        if (!prevSlide.disabled) {\r\n            stopAutoScroll(); \r\n            prevParticipants(); \r\n        }\r\n    });\r\n\r\n    \r\n    populateParticipants(); \r\n    updateButtonsState(); \r\n    startAutoScroll(); \r\n\r\n    // slider with stages\r\n\r\n    const nextStage = document.querySelector('.stages__next'),\r\n          prevStage = document.querySelector('.stages__prev'),\r\n          cardStage = document.querySelector('.stages__list'),\r\n          currentStage = document.querySelectorAll('.stages__current span');\r\n\r\n    let offset = 0;\r\n    let currentSpan = 0; \r\n\r\n    function updateCurrentStage() {\r\n        currentStage.forEach((span, index) => {\r\n            span.classList.remove('active'); \r\n            if (index === currentSpan) {\r\n                span.classList.add('active'); \r\n            }\r\n        });\r\n    }\r\n\r\n    function nextStageCard() {\r\n\r\n        if (offset >= 1396) {\r\n            offset = 0;\r\n            currentSpan = 0; \r\n        } else {\r\n            offset += 349;\r\n            currentSpan++; \r\n        }\r\n        \r\n        \r\n        cardStage.style.transform = `translateX(-${offset}px)`;\r\n        updateCurrentStage(); \r\n    }\r\n\r\n    function prevStageCard() {\r\n        if (offset == 0) {\r\n            offset = 1396;\r\n            currentSpan = currentStage.length - 1; \r\n        } else {\r\n            offset -= 349;\r\n            currentSpan--; \r\n            if (currentIndex < 0) {\r\n                currentIndex = 0; \r\n            }\r\n        }\r\n        \r\n        \r\n        cardStage.style.transform = `translateX(-${offset}px)`;\r\n        updateCurrentStage(); \r\n    }\r\n\r\n    updateCurrentStage();\r\n\r\n    nextStage.addEventListener('click', nextStageCard);\r\n    prevStage.addEventListener('click', prevStageCard);\r\n\r\n    \r\n})"],"names":["window","addEventListener","photo","participantsData","name","subtitle","img","carouselInner","document","querySelector","nextSlide","prevSlide","participantsToShow","getParticipantsToShow","currentIndex","width","innerWidth","populateParticipants","innerHTML","i","length","participantDiv","createElement","classList","add","appendChild","updateCurrentIndexDisplay","currentText","textContent","Math","min","newParticipantsToShow","autoScrollInterval","startAutoScroll","setInterval","updateButtonsState","stopAutoScroll","clearInterval","nextParticipants","prevParticipants","disabled","remove","nextStage","prevStage","cardStage","currentStage","querySelectorAll","offset","currentSpan","updateCurrentStage","forEach","span","index","nextStageCard","style","transform","prevStageCard"],"sourceRoot":""}